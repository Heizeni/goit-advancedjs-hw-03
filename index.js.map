{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// pixabay-api.js\nconst API_KEY = '23587423-82924c7bf0de5f5bd871046c4';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  try {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('âŒ Fetch error:', error);\n    throw error;\n  }\n} ","export function clearGallery(container) {\n    container.innerHTML = '';\n  }\n  \n  export function renderImages(images, container) {\n    const markup = images\n      .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => `\n      <li class=\"photo-card\">\n        <a href=\"${largeImageURL}\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n        </a>\n        <div class=\"info\">\n          <p><b>Likes:</b> ${likes}</p>\n          <p><b>Views:</b> ${views}</p>\n          <p><b>Comments:</b> ${comments}</p>\n          <p><b>Downloads:</b> ${downloads}</p>\n        </div>\n      </li>`\n      )\n      .join('');\n  \n    container.insertAdjacentHTML('beforeend', markup);\n  }\n  ","import { fetchImages } from './js/pixabay-api.js';\nimport { clearGallery, renderImages } from './js/render-functions.js';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('#search-form');\nconst gallery = document.querySelector('.gallery');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n\n  const query = event.currentTarget.elements.searchQuery.value.trim();\n\n  if (!query) {\n    iziToast.warning({\n      message: 'Please enter a search term',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  clearGallery(gallery);\n\n  try {\n    const data = await fetchImages(query);\n\n    if (data.hits.length === 0) {\n      iziToast.info({\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n    } else {\n      renderImages(data.hits, gallery);\n      lightbox.refresh();\n    }\n  } catch (error) {\n    iziToast.error({\n      message: 'Something went wrong. Please try again later.',\n      position: 'topRight',\n    });\n  }\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","url","response","error","clearGallery","container","renderImages","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","gallery","lightbox","SimpleLightbox","event","iziToast","data"],"mappings":"wvBACA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAO,CACvC,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,2DAErE,GAAI,CACF,MAAME,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAI1D,OADa,MAAMA,EAAS,KAAM,CAEnC,OAAQC,EAAO,CACd,cAAQ,MAAM,iBAAkBA,CAAK,EAC/BA,CACV,CACA,CCnBO,SAASC,EAAaC,EAAW,CACpCA,EAAU,UAAY,EAC1B,CAES,SAASC,EAAaC,EAAQF,EAAW,CAC9C,MAAMG,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACV,IAAc;AAAA;AAAA,mBAEKL,CAAa;AAAA,sBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,6BAGnBC,CAAK;AAAA,6BACLC,CAAK;AAAA,gCACFC,CAAQ;AAAA,iCACPC,CAAS;AAAA;AAAA,YAG1C,EACO,KAAK,EAAE,EAEVV,EAAU,mBAAmB,YAAaG,CAAM,CACpD,CCxBA,MAAMQ,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDH,EAAK,iBAAiB,SAAU,MAAMI,GAAS,CAC7CA,EAAM,eAAgB,EAEtB,MAAMpB,EAAQoB,EAAM,cAAc,SAAS,YAAY,MAAM,KAAM,EAEnE,GAAI,CAACpB,EAAO,CACVqB,EAAS,QAAQ,CACf,QAAS,6BACT,SAAU,UAChB,CAAK,EACD,MACJ,CAEEjB,EAAaa,CAAO,EAEpB,GAAI,CACF,MAAMK,EAAO,MAAMvB,EAAYC,CAAK,EAEhCsB,EAAK,KAAK,SAAW,EACvBD,EAAS,KAAK,CACZ,QAAS,2EACT,SAAU,UAClB,CAAO,GAEDf,EAAagB,EAAK,KAAML,CAAO,EAC/BC,EAAS,QAAS,EAErB,MAAe,CACdG,EAAS,MAAM,CACb,QAAS,gDACT,SAAU,UAChB,CAAK,CACL,CACA,CAAC"}